
image bg ch4battle1 = "ch4battle1"
image bg ch4battle2 = "ch4battle2"
image bg ch4battle3 = "ch4battle3"
image bg ch4battle4 = "ch4battle4"
image bg ch4battle5 = "ch4battle5"
image bg ch4battle6 = "ch4battle6"
image bg ch4battle7 = "ch4battle7"
image bg ch4battle8 = "ch4battle8"
image bg ch4battle9 = "ch4battle9"
image bg ch4battle10 = "ch4battle10"
image bg ch4battle11 = "ch4battle11"
image bg ch4battle12 = "ch4battle12"
image bg ch4battle13 = "ch4battle13"
image bg ch4battle14 = "ch4battle14"
image bg ch4battle15 = "ch4battle15"
image bg ch4battle16 = "ch4battle16"
image bg ch4battle17 = "ch4battle17"
image bg ch4battle18 = "ch4battle18"
image bg ch4battle19 = "ch4battle19"
image bg ch4battle20 = "ch4battle20"
image bg ch4battle21 = "ch4battle21"
image bg ch4battle22 = "ch4battle22"
image bg ch4battle23 = "ch4battle23"
image bg ch4battle24 = "ch4battle24"
image bg ch4battle25 = "ch4battle25"
image bg ch4battle26 = "ch4battle26"
image bg ch4battle27 = "ch4battle27"
image bg ch4battle28 = "ch4battle28"
image bg ch4battle29 = "ch4battle29"
image bg ch4battle30 = "ch4battle30"
image bg ch4battle31 = "ch4battle31"
image bg ch4battle32 = "ch4battle32"
image bg ch4battle33 = "ch4battle33"
image bg ch4battle34 = "ch4battle34"
image bg ch4battle35 = "ch4battle35"
image bg ch4battle36 = "ch4battle36"
image bg ch4battle37 = "ch4battle37"
image bg ch4battle38 = "ch4battle38"
image bg ch4battle39 = "ch4battle39"
image bg ch4battle40 = "ch4battle40"
image bg ch4battle41 = "ch4battle41"
image bg ch4battle42 = "ch4battle42"
image bg ch4battle43 = "ch4battle43"
image bg ch4battle44 = "ch4battle44"
image bg ch4battle45 = "ch4battle45"
image bg ch4battle46 = "ch4battle46"
image bg ch4battle47 = "ch4battle47"
image bg ch4battle48 = "ch4battle48"
image bg ch4battle49 = "ch4battle49"
image bg ch4battle50 = "ch4battle50"
image bg ch4battle51 = "ch4battle51"
image bg ch4battle52 = "ch4battle52"
image bg ch4battle53 = "ch4battle53"
image bg ch4battle54 = "ch4battle54"
image bg ch4battle55 = "ch4battle55"
image bg ch4battle56 = "ch4battle56"
image bg ch4battle57 = "ch4battle57"
image bg ch4battle58 = "ch4battle58"
image bg ch4battle59 = "ch4battle59"
image bg ch4battle60 = "ch4battle60"
image bg ch4battle61 = "ch4battle61"
image bg ch4battle62 = "ch4battle62"
image bg ch4battle63 = "ch4battle63"
image bg ch4battle64 = "ch4battle64"
image bg ch4battle65 = "ch4battle65"
image bg ch4battle66 = "ch4battle66"
image bg ch4battle67 = "ch4battle67"
image bg ch4battle68 = "ch4battle68"
image bg ch4battle69 = "ch4battle69"
image bg ch4battle70 = "ch4battle70"
image bg ch4battle71 = "ch4battle71"
image bg ch4battle72 = "ch4battle72"
image bg ch4battle73 = "ch4battle73"
image bg ch4battle74 = "ch4battle74"
image bg ch4battle75 = "ch4battle75"
image bg ch4battle76 = "ch4battle76"
image bg ch4battle77 = "ch4battle77"
image bg ch4battle78 = "ch4battle78"
image bg ch4battle78a = "ch4battle78a"

image bg ch4battle79 = "ch4battle79"
image bg ch4battle80 = "ch4battle80"
image bg ch4battle81 = "ch4battle81"
image bg ch4battle82 = "ch4battle82"
image bg ch4battle83 = "ch4battle83"
image bg ch4battle84 = "ch4battle84"
image bg ch4battle85 = "ch4battle85"
image bg ch4battle86 = "ch4battle86"
image bg ch4battle87 = "ch4battle87"
image bg ch4battle88 = "ch4battle88"
image bg ch4battle89 = "ch4battle89"
image bg ch4battle90 = "ch4battle90"
image bg ch4battle91 = "ch4battle91"
image bg ch4battle92 = "ch4battle92"
image bg ch4battle93 = "ch4battle93"
image bg ch4battle94 = "ch4battle94"
image bg ch4battle95 = "ch4battle95"
image bg ch4battle96 = "ch4battle96"
image bg ch4battle97 = "ch4battle97"
image bg ch4battle98 = "ch4battle98"
image bg ch4battle99 = "ch4battle99"
image bg ch4battle100 = "ch4battle100"

image bg ch4battle101 = "ch4battle101"
image bg ch4battle102 = "ch4battle102"
image bg ch4battle103 = "ch4battle103"
image bg ch4battle104 = "ch4battle104"
image bg ch4battle105 = "ch4battle105"
image bg ch4battle106 = "ch4battle106"
image bg ch4battle107 = "ch4battle107"
image bg ch4battle108 = "ch4battle108"
image bg ch4battle109 = "ch4battle109"
image bg ch4battle110 = "ch4battle110"
image bg ch4battle111 = "ch4battle111"
image bg ch4battle112 = "ch4battle112"
image bg ch4battle113 = "ch4battle113"
image bg ch4battle114 = "ch4battle114"
image bg ch4battle115 = "ch4battle115"
image bg ch4battle116 = "ch4battle116"
image bg ch4battle117 = "ch4battle117"
image bg ch4battle118 = "ch4battle118"
image bg ch4battle119 = "ch4battle119"
image bg ch4battle120 = "ch4battle120"
image bg ch4battle121 = "ch4battle121"
image bg ch4battle122 = "ch4battle122"
image bg ch4battle123 = "ch4battle123"
image bg ch4battle124 = "ch4battle124"
image bg ch4battle125 = "ch4battle125"
image bg ch4battle126 = "ch4battle126"

image bg ch4battle127 = "ch4battle127"
image bg ch4battle128 = "ch4battle128"
image bg ch4battle129 = "ch4battle129"
image bg ch4battle130 = "ch4battle130"
image bg ch4battle131 = "ch4battle131"
image bg ch4battle132 = "ch4battle132"
image bg ch4battle133 = "ch4battle133"
image bg ch4battle134 = "ch4battle134"
image bg ch4battle135 = "ch4battle135"
image bg ch4battle136 = "ch4battle136"
image bg ch4battle137 = "ch4battle137"
image bg ch4battle138 = "ch4battle138"

image bg ch4battle139 = "ch4battle139"
image bg ch4battle140 = "ch4battle140"
image bg ch4battle141 = "ch4battle141"
image bg ch4battle142 = "ch4battle142"
image bg ch4battle143 = "ch4battle143"
image bg ch4battle144 = "ch4battle144"
image bg ch4battle145 = "ch4battle145"
image bg ch4battle146 = "ch4battle146"

image bg ch4battle147 = "ch4battle147"
image bg ch4battle148 = "ch4battle148"
image bg ch4battle149 = "ch4battle149"
image bg ch4battle150 = "ch4battle150"
image bg ch4battle151 = "ch4battle151"
image bg ch4battle152 = "ch4battle152"
image bg ch4battle153 = "ch4battle153"
image bg ch4battle154 = "ch4battle154"
image bg ch4battle155 = "ch4battle155"
image bg ch4battle156 = "ch4battle156"
image bg ch4battle157 = "ch4battle157"
image bg ch4battle158 = "ch4battle158"
image bg ch4battle159 = "ch4battle159"
image bg ch4battle160 = "ch4battle160"



image ch4henrymovie = Movie(play='video/chapter-4-video/ch4henry.webm', loop=False)
image bg ch4henrymovie movie:
    "ch4henrymovie"
    pause 10.0
    "ch4henryend"

image ch4battlegloriamovie = Movie(play='video/chapter-4-video/ch4battlegloria.webm', loop=False)
image bg ch4battlegloria movie:
    "ch4battlegloriamovie"
    pause 7.0
    "white"



label ch4start:
    stop music fadeout 2.0
    scene black with Dissolve(2)

    play music audio.prepare fadein 2.0 fadeout 2.0
    $ renpy.pause(2)
    show bg ch4battle1 with Dissolve(2)
    p "(Ok, just go in, fight a giant killing machine, get the girl, then get out.)"
    p "(I've made it through worse missions than this. Hell, I've stared down Meredith in her office. This should be cake by comparison.)"
    p "(...)"

    p "(I am so fucked...)"
    show bg ch4battle2 with dissolve
    p "*Under your breath* Sam, do you have eyes on the target?"
    s "I am now in the exterior camera feeds."
    p "And?"
    s "Streets are clear and no unusual motion detected inside. IR is masked."
    show bg ch4battle3 with dissolve
    $ renpy.pause(1)
    show bg ch4battle4 with vpunch
    p "Alright. If anything changes, let me know immediately."
    n "Static comes over the comm"
    p "Sam? Can you read me?"
    p "(Great. No backup, no AI, don't even have Sonja watching my six. Shit, ten bucks says she's on her way right now.)"
    p "(Fine, [p], let's do this.)"
    jump ch4battleentrymenu

label ch4battleentrymenu:
    menu:
        "Go through the front":
            $ ch4battleevents.append("front")
            jump ch4battlefront
        "Climb to the window" if "ch3henrywindow" in extraevents:
            $ ch4battleevents.append("window")
            jump ch4battlewindow
        "Take the hatch" if "ch3henrybasement" in extraevents:
            $ ch4battleevents.append("hatch")
            jump ch4battlehatch


label ch4battlefront:
    show bg ch4battle5 with dissolve
    p "(Front door it is. Simple and fast.)"
    show bg ch4battle6 with dissolve
    p "(Sonja, wish you were here. Things would go a lot smoother.)"
    p "(Heh, Sonja... smooth. Now there's a contradiction.)"
    show bg ch4battle7 with dissolve
    p "(Hope you're ready, big guy. Show's about to start.)"
    play sound audio.explosioneffect
    show bg ch4battle8 with hpunch
    n "In a quick burst, the shaped charge blasts through the control panel"
    show bg ch4battle9 with dissolve
    p "(A hell of a lot faster than sneaking in.)"
    p "(Now, in we go. Let's catch him by surprise.)"
    show bg ch4battle16 with dissolve
    n "The neon lights in the hallway buzz and crack as you enter and the smell of ozone fouls the air"
    p "Sam... Please. Come in."
    p "..."
    p "Damn."
    show bg ch4battle17 with dissolve
    n "Water drips from pipes above, slipping between the grates on the floor"
    show bg ch4battle18 with dissolve
    p "(How do you even find a place like this? I can see the ad now: \"Building for lease. Late 20th-century construction. No net access, horrible location, a bit of a fixer-upper.\")"
    p "(\"Also, a giant fucking fortress. Rent negotiable.\")"
    show bg ch4battle19 with dissolve
    p "*Lets out a drawn breath* (Enough of that shit, [p]. Focus.)"
    show bg ch4battle20 with dissolve
    n "You walk towards the metal door and, as you reach out, the door opens inward"
    show bg ch4battle67 with dissolve
    p "(That's not good.)"
    show bg ch4battle66 with vpunch
    play sound audio.puncheffect

    n "Before you can even blink, a giant fist impacts your head. Your mask takes most of the force as you feel your feet leave the ground while you fly back through the air."
    jump ch4battlehallwayfall

label ch4battlewindow:
    show bg ch4battle12 with dissolve
    p "*Sighs* (Quick and quiet. And hey, if I slip, the fall will definitely kill me. So, I got that going for me.)"
    show bg ch4battle15 with dissolve
    $ renpy.pause(1)
    show bg ch4battle13 with dissolve
    n "With your grapple set, you make the ascent"
    show bg ch4battle14 with dissolve
    p "Sam, if you can hear me, buddy, I could use a sitrep on the upstairs."
    p "Shit, still jammed."
    p "(He's covered all his bases. All alone here. No chance to turn back.)"
    show bg ch4battle106 with dissolve
    p "(Alright, let's get in here.)"
    show bg ch4battle107 with dissolve
    p "(Shit, there she is. In, out, simple. Get paid and then relax and enjoy a nice breakfast.)"
    p "(Then Ellen and Sonja can stop giving me grief. I like this plan.)"
    menu:
        "Get her quick and get out":
            $ ch4battleevents.append("blewupstairsemp")
            $ ch4battlescore -= 1
            show bg ch4battle108 with dissolve
            p "(Okay, girl, don't move. Just let me tranq you and we're out of here.)"
            show bg ch4battle113 with dissolve
            p "..."
            p "Ahh shit..."
            show bg ch4battle114 with dissolve
            $ renpy.pause(1)
            play sound audio.emp
            show bg ch4battle115 with quickflash
            n "With a surprisingly quiet hiss and a bang, the EMP goes off"
            scene black with dissolve
            show bg ch4battle116 with Dissolve(2)
            p "Yaim chus gam ignot!"
            p "(Fucking EMP's! )"
            p "Nankt uckfig lakt raits."
            p "You modder fucker..."
            p "(Fuck it, close enough, at least I didn't piss myself. Got lucky.)"
            show bg ch4battle111 with dissolve
            p "(Fuck, I hope that wasn't too loud.)"
            p "(Better move fast.)"
        "Take it slow":


            show bg ch4battle108 with dissolve
            p "(Nice and slow.)"
            show bg ch4battle109 with dissolve
            p "(Somethings not right here.)"
            p "..."
            show bg ch4battle110 with dissolve
            p "(Ahh, an EMP, sneaky mother fucker.)"
            p "(Not sure how I can disarm it, though.)"
            show bg ch4battle111 with dissolve
            p "(Let's look around.)"

    p "(Where are you, Gloria Conner? More importantly, where is your death machine of a friend?)"
    jump ch4battleupstairsmenu

label ch4battleupstairsmenu:
    menu:
        "Check bedroom":
            show bg ch4battle160 with dissolve
            if not persistent.ch4card2:
                $ renpy.notify(['Possible clue', 'alert'])
                show screen hidden_item("ch4card2", "ch4card2", 1184, 506, 250, 140)
            p "(Quaint. Certainly tried to turn this warehouse into something livable.)"
            p "(She has definitely been here, though.)"
            p "(Alright, where to next?)"
            hide screen hidden_item
            jump ch4battleupstairsmenu
        "Check stairs":


            show bg ch4battle112 with dissolve
            p "(Alright, let's check downstairs)"
            show bg ch4battle65 with dissolve
            p "(This place is massive. Abandoned or not, how did he manage to afford it?)"
            show bg ch4battle56 with dissolve
            p "(Shit! Was he waiting for me? Did I trip some alarm?)"
            p "(I know you just want to protect the girl, but I can't risk it. I have to take you out. I'll make it as quick as I can. You'll barely feel a thing.)"
            p "(Sorry, pal, but at this point, it's you or me.)"
            menu:
                "Shoot him":
                    n "You turn your safety off with a click"
                    show bg ch4battle47 with dissolve
                    h "*Sighs* Damn..."
                    show bg ch4battle57 with dissolve
                    n "With impressive speed, the hulking man bursts through the door in front of him"
                    play sound audio.smg
                    show bg ch4battle54
                    $ renpy.pause(0.08)
                    show bg ch4battle55
                    $ renpy.pause(0.08)
                    show bg ch4battle54
                    $ renpy.pause(0.08)
                    show bg ch4battle55
                    $ renpy.pause(0.08)
                    show bg ch4battle54
                    $ renpy.pause(0.08)
                    show bg ch4battle55
                    $ renpy.pause(0.08)
                    show bg ch4battle54
                    $ renpy.pause(0.08)
                    show bg ch4battle55
                    $ renpy.pause(0.08)
                    show bg ch4battle54
                    n "You open up on your target"
                    p "Fuck!"
                "Flashbang and then shoot him":
                    $ ch4battlescore += 1
                    p "(Let's see how tough those eyes of yours are.)"
                    show bg ch4battle51 with dissolve
                    n "With a light throw, the flashbang lands right next to his feet"
                    play sound audio.grenade
                    show bg ch4battle50 with quickflash
                    n "The pop of the flashbang goes off and a blinding light fills the stairwell"
                    h "Ahhh! What the-"
                    play sound audio.smg
                    show bg ch4battle54
                    $ renpy.pause(0.08)
                    show bg ch4battle55
                    $ renpy.pause(0.08)
                    show bg ch4battle54
                    $ renpy.pause(0.08)
                    show bg ch4battle55
                    $ renpy.pause(0.08)
                    show bg ch4battle54
                    $ renpy.pause(0.08)
                    show bg ch4battle55
                    $ renpy.pause(0.08)
                    show bg ch4battle54
                    $ renpy.pause(0.08)
                    show bg ch4battle55
                    $ renpy.pause(0.08)
                    show bg ch4battle54
                    $ renpy.pause(0.08)
                    show bg ch4battle53
                    n "As the barrage hits Henry, he smashes through the doorway"
                    h "Ugh!!!"
            jump ch4battlecheckdoor

label ch4battlecheckdoor:
    show bg ch4battle40 with dissolve
    p "(Where the hell did you go?)"
    p "(How the hell does something that big vanish?)"
    show bg ch4battle41 with dissolve
    p "If I don't have to kill you, I won't. But, I need to find Gloria."
    p "I know it sounds cliche, but it's for her own good. We want to help her."
    show bg ch4battle42 with hpunch
    h "Help her, my ass!"
    p "*Grunts as the door slams into his side*"
    show bg ch4battle43 with dissolve
    h "Arrgh! You believe that."
    h "You won't touch her."
    jump ch4battlehallwayfall

label ch4battlehatch:
    show bg ch4battle10 with dissolve
    p "(Good find, Sonja.)"
    p "(Though, if I can't reach Sam out here, no way I can down there.)"
    show bg ch4battle11 with dissolve
    p "(Fuck it, I can't waste any more time.)"
    show bg ch4battle68 with Dissolve(1)
    n "The hum of the machinery drowns out your already soft steps"
    p "(Let's see what you have in store for me, big guy.)"
    show bg ch4battle69 with dissolve
    p "(How do you even find a place like this? I can see the ad now: \"Building for lease. Late 20th-century construction. No net access, horrible location, a bit of a fixer-upper.\")"
    p "(\"Also, a giant fucking fortress. Rent negotiable. If you act now we'll throw in a hidden utility basement for all your murder needs.\")"
    p "(Ok, focus, [p]... No telling what he has planned.)"
    show bg ch4battle70 with dissolve
    p "(Easy does it.)"
    show bg ch4battle71 with dissolve
    p "(Now, your little present was just up here.)"
    if "ch3reportredmoon" in extraevents or "ch3reportaugments" in extraevents:
        p "(May just be useful to me.)"
        if "ch3reportaugments" in extraevents:
            p "(Thank you, Victoria.)"
    menu:
        "Bypass the EMP":
            show bg ch4battle72 with dissolve
            p "(Be easier just to disable it for a few minutes.)"
            p "(Easy does it... Note to self: Get something like Sonja's Kay. Be useful in times like this.)"
            p "(Bingo! Now let's check upstairs.)"
        "Try to take the EMP":
            $ ch4battleevents.append("takeemp")
            show bg ch4battle72 with dissolve
            p "(Could make use of this)"
            p "(Easy does it... Note to self: Get something like Sonja's Kay. Be useful in times like this.)"
            show bg ch4battle73 with dissolve
            p "(Phew! Alright, one down, hopefully zero to go. Now, let's check upstairs.)"

    show bg ch4battle45 with dissolve
    n "The beating drums of pumps and machinery fade as you make your ascent up the stairs"
    p "(Where are you..?)"
    show bg ch4battle46 with dissolve
    p "(Well, speak of the devil. Wait, was he waiting for me? Did I trip some alarm?)"
    p "(I can't risk it. I have to take him out. I can make it quick and he'll barely feel a thing.)"
    p "(Sorry, pal, but I know exactly what you will do to me if I don't do this.)"
    menu:
        "Shoot him":
            n "You turn your safety off with a click"
            show bg ch4battle47 with dissolve
            h "*Sighs* Damn..."
            play sound audio.smg
            show bg ch4battle48 with dissolve
            n "As you open fire, the behemoth of a man bursts through the door"
        "Flashbang and then shoot him":


            $ ch4battlescore += 1
            p "(Let's see how tough those eyes of yours are.)"
            show bg ch4battle51 with dissolve
            n "With a light throw, the flashbang lands right next to his feet"
            play sound audio.grenade
            show bg ch4battle50 with quickflash
            n "The pop of the flashbang goes off and a blinding light fills the stairwell"
            h "Ahhh! What the-"
            play sound audio.smg
            show bg ch4battle52 with dissolve
            n "As the barrage hits Henry, he smashes through the doorway"
            show bg ch4battle53 with hpunch
            h "Ugh!!!"

    show bg ch4battle49 with dissolve
    p "Fuck! Did I get him?"
    jump ch4battlecheckdoor

label ch4battlehallwayfall:
    show bg ch4battle21 with dissolve
    $ renpy.pause(1)
    show bg ch4battle22 with dissolve
    p "Arrghh..."
    h "Not today."
    menu:
        "Reach for your gun":
            $ ch4battlescore -= 1
            show bg ch4battle24 with dissolve
            h "You people just couldn't leave us alone, could you?"
            show bg ch4battle23 with dissolve
            p "(Fuck, fuck, fuck, almost got it.)"
            h "An AM-35? You should have brought a bigger gun."
            show bg ch4battle34 with dissolve
            p "(Got it!)"
            p "We'll see about that!"
            play sound audio.smg
            show bg ch4battle35 with hpunch
            n "You pull the trigger and feel the kick of the rifle vibrating through your arm."
            show bg ch4battle36 with dissolve
            n "It's not accurate, but most of them find their mark. The giant is pushed aside by the force of the bullets, but little else."
            p "You're fucking bulletproof!"
            show bg ch4battle37 with dissolve
            h "I told you that wouldn't work."
            n "As he speaks, he presses down on your arm with his boot. He's even heavier than he looks. You scream out in pain."
            p "Agggh!"
            h "Do I have your attention?"
            p "Fuck off!"
            h "How many more?"
            p "*Grunts* A thousand, a million. Take a guess."
            show bg ch4battle38 with dissolve
            h "You lie to me again and I will snap your arm."
            p "What, you don't believe me? I work alone, asshole."
            h "Bullshit. Where is your backup?"
            n "His hand squeezes tighter around your mask"
            show bg ch4battle39 with dissolve
            n "Then, without warning, he tosses you to the side as easily as a toy"
            show bg ch4battle58 with dissolve
            h "Start talking and I might let you live."
            p "Well, with a pitch like that..."

            if "downstairs" not in ch4battleevents:
                menu:
                    "Head upstairs":
                        jump ch4battleupstairs
                    "Head downstairs":

                        jump ch4battledownstairs
            else:
                jump ch4battleupstairs
        "Play possum":

            $ ch4battlescore += 1
            show bg ch4battle25 with dissolve
            h "Your kind just can't leave us alone. Can you?"
            show bg ch4battle26 with dissolve
            h "Wake up, Ghost. I have questions for you."
            p "..."
            show bg ch4battle27 with dissolve
            n "The beast of a man lifts you off the ground effortlessly with one hand"
            h "Now, wake up."
            show bg ch4battle28 with dissolve
            h "Where are the others?"
            p "..."
            h "I said, where are the others!"
            show bg ch4battle29 with dissolve
            n "Unbeknownst to Henry, you slowly slip your knife from its sheath."
            p "I... I..."
            h "Tell me."
            show bg ch4battle30 with vpunch
            p "Work alone!"
            h "Agggh!!!"
            show bg ch4battle31 with dissolve
            $ renpy.pause(1)
            show bg ch4battle32 with dissolve
            $ renpy.pause(1)
            show bg ch4battle33 with dissolve
            h "*In a rage* Get back here!"
            show bg ch4battle44 with dissolve

            if "downstairs" not in ch4battleevents:
                menu:
                    "Run upstairs":
                        jump ch4battlestairsrunaway
                    "Run downstairs":
                        jump ch4battlestairsrundown
            else:
                jump ch4battleupstairs


label ch4battledownstairs:
    show bg ch4battle103 with dissolve
    h "You're a persistent little bastard. Like a cockroach."
    h "Get back here. I'm not done with you yet."
    show bg ch4battle104 with dissolve
    n "You feel the adrenaline coursing through your veins. You push yourself to your limits, lifting off the ground in a full sprint down the stairs."
    jump ch4battlestairsrundown


label ch4battlestairsrundown:
    $ ch4battleevents.append("rundownstairs")

    show bg ch4battle104 with dissolve
    h "Get back here!"
    show bg ch4battle105 with dissolve
    p "([p], you stupid, cocky son-of-a-bitch. What were you thinking? Taking on an Augment, solo?)"
    show bg ch4battle74 with dissolve
    p "(Got to lose him somehow.)"
    if "takeemp" in ch4battleevents:
        show bg ch4battle75 with dissolve
        $ renpy.pause(1)
        show bg ch4battle78a with dissolve
        $ renpy.pause(1)
        show bg ch4battle101 with dissolve
        p "*You grunt as you soften your landing.*"
        show bg ch4battle102 with dissolve
        p "*Heavy breathing* (Come on, you bastard.)"
        show bg ch4battle91 with dissolve
        $ renpy.pause(1)
        show bg ch4battle90 with dissolve
        h "Where did you go..?"
        show bg ch4battle92 with dissolve
        h "You put up a good fight, Ghost, I'll give you that. But it's over."
        h "Smart, too, but if you think that toy is going to work on me, you're wrong."
        show bg ch4battle96 with dissolve
        h "I'll give you one last chance. Just leave and no one needs to be hurt."
        p "..."
        show bg ch4battle93 with dissolve
        h "I'll give you three seconds. Put your weapons down and walk out that back door."
        h "One..."
        show bg ch4battle94 with dissolve
        h "Two..."
        h "Don't make me do this."
        h "..."
        show bg ch4battle95 with dissolve
        h "Three..."
        show bg ch4battle97 with dissolve
        n "The EMP begins to buzz as it heats up rapidly."
        p "(FUCK ME!!!)"
        show bg ch4battle98 with dissolve
        $ renpy.pause(1)
        play sound audio.emp
        show bg ch4battle99 with quickflash
        $ renpy.pause(1)
        show bg ch4battle100 with dissolve
        n "The EMP blasts in mid-air far from you"
        show bg ch4battle83 with dissolve
        p "(Damn, I need to get out of here. How can I fight this guy?!)"
        p "(He's stronger and faster than me. Not to mention practically bulletproof.)"

        if "ch3reportredmoon" in extraevents or "ch3reportaugments" in extraevents:
            if "takeemp" in ch4battleevents:
                $ ch4battleevents.remove("takeemp")
                p "(And he just used my trump card against me.)"
        elif "takeemp" in ch4battleevents:
            $ ch4battleevents.remove("takeemp")
    else:
        show bg ch4battle76 with dissolve
        p "*Heavy breathing* (Gotta be somewhere I can hide down here.)"
        show bg ch4battle77 with dissolve
        if "ch3henrybasement" in extraevents:
            p "(Fuck, the EMP!)"
        else:
            $ ch4battlescore -= 1
            p "(Oh, fuck an EMP!)"
        show bg ch4battle78 with dissolve
        p "Oh shit!"
        play sound audio.emp
        show bg ch4battle79 with quickflash
        n "The EMP erupts behind you as you plunge to the floor"
        show bg ch4battle80 with dissolve
        p "Ugghhh... That was further than I thought..."
        show bg ch4battle81 with dissolve
        p "*Grunts* No one could pay me enough for this..."
        show bg ch4battle82 with dissolve
        p "*Coughs* Fuck... (Now what do I do?)"

    show bg ch4battle84 with vpunch
    p "(Alright, [p]...{w} Run!)"
    show bg ch4battle85 with dissolve
    h "You won't take her!"
    show bg ch4battle86 with dissolve
    n "Dodging under his massive fist, you dart forward"
    show bg ch4battle87 with dissolve
    $ renpy.pause(1)
    show bg ch4battle88 with dissolve
    h "I'll die before I let anyone harm her!"
    show bg ch4battle89 with dissolve
    n "Your heart beats so hard, you can feel the blood course through your body as your sprint across the treadway"
    p "(Upstairs! Go-go!)"
    jump ch4battlestairsrunaway

label ch4battleupstairs:
    show bg ch4battle59 with dissolve

    h "You're a persistent little bastard. Like a cockroach."
    show bg ch4battle60 with dissolve
    h "Get back here. I'm not done with you yet."
    n "You feel the adrenaline coursing through your veins. You push yourself to your limits, lifting off the ground in a full sprint down the stairs"
    jump ch4battlestairsrunaway

label ch4battlestairsrunaway:
    show bg ch4battle61 with dissolve
    h "NO! Get back here!"
    if "rundownstairs" not in ch4battleevents:
        p "([p], you stupid, cocky son-of-a-bitch.)"
    show bg ch4battle62 with dissolve
    h "Don't make me kill you."
    show bg ch4battle63 with dissolve
    play sound audio.smg
    p "(I think we're past that now.)"
    show bg ch4battle64 with dissolve
    p "(Damn, I have to get this girl and just run. I can't fight this guy.)"
    jump ch4battlelivingroomafter


label ch4battlelivingroomafter:
    show bg ch4battle118 with dissolve
    n "Losing breath, you barrel towards the door"
    show bg ch4battle117 with hpunch
    n "Then with a sudden crash, you burst through it"
    p "*Trying to catch your breath* (Dammit, where is she?)"
    if "window" in ch4battleevents:
        if "ch3reportredmoon" in extraevents or "ch3reportaugments" in extraevents:
            if "takeemp" in ch4battleevents:
                p "(Damn, I only have one shot at this. I need to take him out.)"
            elif "blewupstairsemp" not in ch4battleevents:
                show bg ch4battle119 with dissolve
                h "You did well surviving this long, Ghost, but this ends now."
                p "(Fuck it, I have to set off that EMP.)"
            else:
                show bg ch4battle119 with dissolve
                h "You did well surviving this long, Ghost, but this ends now."
                p "(Oh fuck, now what?!)"
        else:
            if "blewupstairsemp" not in ch4battleevents:
                show bg ch4battle119 with dissolve
                h "You did well surviving this long, Ghost, but this ends now."
                p "(Fuck it, I have to set off that EMP.)"
            else:
                show bg ch4battle119 with dissolve
                h "You did well surviving this long, Ghost, but this ends now."
                p "(Oh fuck, now what?!)"
    else:

        show bg ch4battle119 with dissolve
        h "You did well surviving this long, Ghost, but this ends now."
        show bg ch4battle120 with dissolve
        p "It may be too late, but I found you..."

    show bg ch4henrymovie movie with dissolve
    h "I'm sorry, but it's too late for you. You've seen too much."
    h "I'll make it quick and painless."
    show bg ch4battle120 with dissolve
    p "*Breathing heavily* I'm not done yet."
    show bg ch4battle122 with dissolve
    n "You scramble towards the couch. Henry's heavy footsteps follow you."
    show bg ch4battle121 with dissolve
    h "It's over. You've lost. And those who come after you will lose as well."
    show bg ch4battle123 with dissolve
    p "(I just gotta...)"


    if "takeemp" in ch4battleevents:
        p "I won't go down without a fight."
        h "You fought and you lost."
        p "Not yet."
        show bg ch4battle125 with dissolve
        h "Shit!"
        jump ch4throwemp
    else:
        jump ch4battlefailure


label ch4throwemp:
    menu:
        "Throw the EMP hard at his head":
            show bg ch4battle127 with dissolve
            $ ch4battleevents.append("athead")
            $ chance = 40 * ch4battlescore
            $ score = renpy.random.randint(1,100)
            if (chance >= score):
                jump ch4battlesuccess
            else:
                jump ch4battlefailure


        "Lob the EMP over his head just behind him" if "ch3reportaugments" in extraevents or "ch3reportredmoon" in extraevents:
            jump ch4battlesuccess
        "Toss the EMP at his feet":
            show bg ch4battle127 with dissolve
            n "You throw the EMP straight at the giant's feet"
            play sound audio.emp
            show bg ch4battle129 with quickflash
            n "Then, in a quick flash, it erupts"
            n "To your dismay, he keeps coming"
            jump ch4battlefailure
        "Throw the EMP straight at his chest":
            show bg ch4battle127 with dissolve
            n "You throw the EMP straight at the giant's chest"
            play sound audio.emp
            show bg ch4battle128 with quickflash
            n "Then, in a quick flash, it erupts"
            n "To your dismay, he keeps coming"
            jump ch4battlefailure

label ch4battlesuccess:
    show bg ch4battle127 with dissolve
    if "athead" in ch4battleevents:
        n "You throw the EMP straight at the giant's head."
        play sound audio.emp
        show bg ch4battle130 with quickflash
        n "Then, in a quick flash, it erupts around him"
    else:
        n "You lob the EMP just over the giant's head"
        play sound audio.emp
        show bg ch4battle130 with quickflash
        n "Then, in a quick flash, it erupts just behind him"
    show bg ch4battle134 with dissolve
    h "I... I..."
    show bg ch4battle135 with dissolve
    n "In a crash, he collapses to the floor"
    p "*Catching your breath* Sorry, big guy."
    $ achievement.grant("DAVIDVSGOLIATH")
    init:
        $ achievement.register("DAVIDVSGOLIATH")
    $ achievement.Sync()
    show bg ch4battle136 with dissolve
    p "But it was you or me."
    menu:
        "Finish him":
            $ extraevents.append("ch4fightkill")
            show bg ch4battle140 with dissolve
            p "(Finally, I can end this...)"
            show bg ch4battle139 with dissolve
            p "Bulletproof or not. I have a feeling this will work."
        "Try to knock him out":
            $ extraevents.append("ch4fightspare")
            show bg ch4battle140 with dissolve
            p "You did good, but I need to find her."
            show bg ch4battle138 with dissolve
            p "You want to find me after you wake up... go ahead."
    show bg ch4battle149 with dissolve
    g "NO! Please!"
    show bg ch4battle142 with dissolve
    p "Gloria?"
    show bg ch4battle149 with dissolve
    g "YOU HAVE TO STOP!"
    jump ch4battleafter


label ch4battlefailure:
    if "takeemp" in ch4battleevents:
        $ ch4battleevents.remove("takeemp")
        $ ch4battleevents.append("onetry")
        n "You throw the EMP straight at the giant's head"
        show bg ch4battle131 with dissolve
        n "Then, to your dismay, he slaps it away, exploding harmlessly to the side of the room"
        play sound audio.emp
        show bg ch4battle132 with quickflash
        $ renpy.pause(1)
        show bg ch4battle133 with dissolve
        p "Ohhh, fuck me..."
        h "Close one, Ghost. I don't want to keep doing this."

    elif "blewupstairsemp" not in ch4battleevents:
        show bg ch4battle124 with dissolve
        if "window" in ch4battleevents:
            p "(One last shot...)"
        else:
            p "(I have to see her face...)"
        h "I already told you, that's not her."
        show bg ch4battle141 with dissolve
        if "window" in ch4battleevents:
            p "I know!"
        else:
            p "Well, it's my lucky day!"
        show bg ch4battle125 with dissolve
        $ ch4battleevents.append("blewupstairsemp")
        n "You quickly grab the EMP as it starts to hum in your hand"
        jump ch4throwemp
    else:

        if "athead" in ch4battleevents:
            if "onetry" in ch4battleevents:
                show bg ch4battle127 with dissolve
                n "Again you try to throw the EMP at the giant's head"
                show bg ch4battle131 with dissolve
                n "Then, in an instant, he swats it away"
                play sound audio.emp
                show bg ch4battle132 with quickflash
                $ renpy.pause(1)
                show bg ch4battle133 with dissolve
                p "Fuck me..."
            else:

                n "You throw the EMP straight at the giant's head"

                show bg ch4battle128 with quickflash
                play sound audio.emp
                n "Then, in a quick flash, it erupts around him"
        p "You have to be shitting me..."

        show bg ch4battle121 with Dissolve(2)
        h "It's over. This ends now."
        show bg ch4battle146 with dissolve
        p "Uggh!"
        h "I promise I'll make it quick."
        show bg ch4battle147 with hpunch
        n "As the giant's hand clasps around your leg, he flings you into the wall"
        h "Argggh!"
        show bg ch4battle148 with dissolve
        h "Before I kill you. What's your name. You deserve to be a scar etched in my memory."
        p "*Coughs* [p]..."
        show bg ch4battle143 with dissolve
        h "Make your peace, Ghost, and I'll make it quick."
        show bg ch4battle144 with dissolve
        p "*lets out a sigh* Just do it..."
        show bg ch4battle149 with dissolve
        g "Henry! NO!"
        show bg ch4battle145 with dissolve
        h "Gloria, look away!"
        g "You have to STOP!!!"
        jump ch4battleafter





label ch4battleafter:

    show bg ch4battlegloria movie with dissolve
    g "No, {i}need{/i} to stop..."
    g "Right..."
    show bg ch4battle150 with hpunch
    g "NOW!"
    show bg ch4battle152 with vpunch
    n "You feel a rush of air, then pressure as you and Henry are flung across the room."
    show bg ch4battle151
    n "Gloria stares in disbelief"
    g "I... I..."
    scene black with Dissolve(2)

    show ch1dream2 with quickflash
    $ renpy.pause(0.1)
    show ch2dream1 with quickflash
    $ renpy.pause(0.1)
    show ch2dream2 with quickflash
    $ renpy.pause(0.1)
    show ch3dream1 with quickflash
    $ renpy.pause(0.1)
    show ch3dream2 with quickflash
    $ renpy.pause(0.1)
    show ch3dream3 with quickflash
    $ renpy.pause(0.1)
    show ch3dream4 with quickflash
    $ renpy.pause(0.1)
    scene black with Dissolve(2)

    show bg ch4battle154 with Dissolve(2)
    p "*Coughing* What... What the fuck..? What the fuck?!"
    h "Gloria! No, Gloria!!!"
    show bg ch4battle153 with dissolve
    n "The young girl begins seizing on the floor"
    h "No... come on, Little one. Don't do this."
    show bg ch4battle155 with dissolve
    p "What's wrong with her?"
    h "How should I know! This is all your fault!"
    show bg ch4battle156 with dissolve
    p "Shit. This doesn't look good."
    h "Gloria!"
    p "I have an idea."
    show bg ch4battle157 with dissolve
    h "Stay away from her!"
    p "I know someone who can help her!"
    h "Help her? You're not taking her to some corp where they can experiment on her."
    p "No corp, I promise you."
    show bg ch4battle158 with dissolve
    h "Why should I trust you?"
    p "Listen, I have a friend, she can help her. But not if you're fighting me the whole way."
    show bg ch4battle159 with dissolve
    h "If anything happens to her..."
    p "You'll kill me. I get it. Neither of us wants that. Now come on, Soldier. My ride is just outside."
    jump ch4docsdown
# Decompiled by unrpyc: https://github.com/CensoredUsername/unrpyc
